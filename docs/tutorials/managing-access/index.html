<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.59">
<title data-react-helmet="true">Managing Access to Data | lit-pod</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Managing Access to Data | lit-pod"><meta data-react-helmet="true" name="description" content="The Solid specification has not settled yet, and access management specifically is expected to"><meta data-react-helmet="true" property="og:description" content="The Solid specification has not settled yet, and access management specifically is expected to"><meta data-react-helmet="true" property="og:url" content="https://inrupt.github.io/lit-pod/docs/tutorials/managing-access"><link data-react-helmet="true" rel="shortcut icon" href="/lit-pod/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://inrupt.github.io/lit-pod/docs/tutorials/managing-access"><link rel="stylesheet" href="/lit-pod/styles.e8fef86d.css">
<link rel="preload" href="/lit-pod/styles.df06b2fd.js" as="script">
<link rel="preload" href="/lit-pod/runtime~main.d215a3d9.js" as="script">
<link rel="preload" href="/lit-pod/main.cdae43e5.js" as="script">
<link rel="preload" href="/lit-pod/1.9a5cb07c.js" as="script">
<link rel="preload" href="/lit-pod/2.54eb1ff3.js" as="script">
<link rel="preload" href="/lit-pod/32.bb4b86f5.js" as="script">
<link rel="preload" href="/lit-pod/33.6f3fe0c1.js" as="script">
<link rel="preload" href="/lit-pod/383ba7fc.6425f15e.js" as="script">
<link rel="preload" href="/lit-pod/17896441.625a4869.js" as="script">
<link rel="preload" href="/lit-pod/8e078ad6.88afef29.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/lit-pod/"><strong class="navbar__title">lit-pod</strong></a><a class="navbar__item navbar__link" href="/lit-pod/docs/">Getting Started</a><a class="navbar__item navbar__link" href="/lit-pod/docs/guide/installation">Guide</a><a class="navbar__item navbar__link" href="/lit-pod/docs/api/index">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/inrupt/lit-pod" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx moon_6SPT"></span></div><div class="react-toggle-track-x"><span class="toggle_BsTx sun_152_"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/lit-pod/"><strong class="navbar__title">lit-pod</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/lit-pod/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/lit-pod/docs/guide/installation">Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/lit-pod/docs/api/index">API Reference</a></li><li class="menu__list-item"><a href="https://github.com/inrupt/lit-pod" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lit-pod/docs/guide/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lit-pod/docs/guide/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lit-pod/docs/guide/core-concepts">Core Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lit-pod/docs/guide/next-steps">Next Steps</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/lit-pod/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/lit-pod/docs/tutorials/working-with-data">Working with Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/lit-pod/docs/tutorials/working-with-files">Working with Files</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/lit-pod/docs/tutorials/managing-access">Managing Access</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lit-pod/docs/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lit-pod/docs/faq">Frequently Asked Questions</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Managing Access to Data</h1></header><div class="markdown"><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>The Solid specification has not settled yet, and access management specifically is expected to
change in the future.</p><p>As a result, the API&#x27;s described here are expected to change as well.
Hence, all functions are marked as <code>unstable_</code> and may break in future non-major releases.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="access-control-in-solid"></a>Access Control in Solid<a aria-hidden="true" tabindex="-1" class="hash-link" href="#access-control-in-solid" title="Direct link to heading">#</a></h2><p>In Solid, who has what access to a <a href="/lit-pod/docs/glossary#resource">Resource</a> is defined in an Access Control
List (<a href="/lit-pod/docs/glossary#acl">ACL</a>). These may be defined in separate Resources, so if you want to be able
to access the ACLs for a Resource in addition to the Resource itself, you&#x27;ll have to explicitly
fetch them using
<a href="/lit-pod/docs/api/modules/_resource_litdataset_#unstable_fetchlitdatasetwithacl"><code>unstable_fetchLitDatasetWithAcl</code></a> â€”
but be aware that this may result in several extra HTTP requests being sent.</p><p>The possible <a href="/lit-pod/docs/glossary#access-modes">Access Modes</a> that can be granted are
<a href="/lit-pod/docs/glossary#read-access">Read</a>, <a href="/lit-pod/docs/glossary#append-access">Append</a>,
<a href="/lit-pod/docs/glossary#write-access">Write</a> and <a href="/lit-pod/docs/glossary#control-access">Control</a>,</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>A note about access to ACLs</h5></div><div class="admonition-content"><p>A Resource&#x27;s or Container&#x27;s ACL is only accessible to your app if the following are true:</p><ol><li>The authenticated user must have authorised your app to manage access on their behalf. At the
time of writing, the most common Solid server has that permission unchecked by default, i.e.
users will need to have actively given your app this permission.</li><li>The authenticated user should have <a href="/lit-pod/docs/glossary#control-access">Control access</a> to the
applicable Resource or Container.</li></ol></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="finding-out-who-has-access"></a>Finding out who has access<a aria-hidden="true" tabindex="-1" class="hash-link" href="#finding-out-who-has-access" title="Direct link to heading">#</a></h2><p>Access can be granted to individual <a href="/lit-pod/docs/glossary#agent">agents</a>, to groups, or even to everyone.
We currently only support reading what access has been granted to individual agents specifically.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="fetching-access-information"></a>Fetching access information<a aria-hidden="true" tabindex="-1" class="hash-link" href="#fetching-access-information" title="Direct link to heading">#</a></h3><p>Getting access information when fetching a resource may result in an additional request to the server. To avoid
unecessary requests, the API makes it explicit when you get access information along your resource: <code>unstable_fetchLitDatasetWithAcl</code>. The returned value includes both the Resource data (e.g. your profile or friend list), the <code>ResourceInfo</code>,
and the ACL containing the associated access information.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="reading-public-access"></a>Reading public access<a aria-hidden="true" tabindex="-1" class="hash-link" href="#reading-public-access" title="Direct link to heading">#</a></h3><p>Given a <a href="/lit-pod/docs/glossary#litdataset">LitDataset</a> that has an ACL attached, you can check what access
everyone has, regardless of whether they are authenticated or not. You can do so using
<a href="/lit-pod/docs/api/modules/_acl_class_#unstable_getpublicaccess"><code>unstable_getPublicAccess</code></a>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_fetchLitDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_getPublicAccess</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@solid/lit-pod&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> webId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://example.com/profile#webid&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> litDatasetWithAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_fetchLitDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> publicAccess </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_getPublicAccess</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">litDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// =&gt; an object like</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//    { read: true, append: false, write: false, control: true }</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//    or null if the ACL is not accessible to the current user.</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="reading-agent-access"></a>Reading agent access<a aria-hidden="true" tabindex="-1" class="hash-link" href="#reading-agent-access" title="Direct link to heading">#</a></h3><p>Given a <a href="/lit-pod/docs/glossary#litdataset">LitDataset</a> that has an ACL attached, you can check what access a
specific agent has been granted, or get all agents for which access has been explicitly granted.</p><p>To do the former, use
<a href="/lit-pod/docs/api/modules/_acl_agent_#unstable_getagentaccessone"><code>unstable_getAgentAccessOne</code></a>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_fetchLitDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_getAgentAccessOne</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@solid/lit-pod&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> webId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://example.com/profile#webid&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> litDatasetWithAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_fetchLitDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> agentAccess </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_getAgentAccessOne</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">litDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> webId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// =&gt; an object like</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//    { read: true, append: false, write: false, control: true }</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//    or null if the ACL is not accessible to the current user.</span></div></div></div></div></div><p>To get all agents to whom access was granted, use
<a href="/lit-pod/docs/api/modules/_acl_agent_#unstable_getagentaccessall"><code>unstable_getAgentAccessAll</code></a>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_fetchLitDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_getAgentAccessAll</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@solid/lit-pod&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> litDatasetWithAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_fetchLitDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> accessByAgent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_getAgentAccessAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">litDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// =&gt; an object like</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//    {</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//      &quot;https://example.com/profile#webid&quot;:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//        { read: true, append: false, write: false, control: true },</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//      &quot;https://example.com/other-profile#webid&quot;:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//        { read: true, append: false, write: false, control: false },</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">//    }</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="changing-who-has-access"></a>Changing who has access<a aria-hidden="true" tabindex="-1" class="hash-link" href="#changing-who-has-access" title="Direct link to heading">#</a></h2><p>To be able to <em>change</em> who has access to a specific Resource, you will need to know a little bit
more about how Access Control works in Solid:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="two-types-of-acl"></a>Two types of ACL<a aria-hidden="true" tabindex="-1" class="hash-link" href="#two-types-of-acl" title="Direct link to heading">#</a></h3><p>A Resource <em>can</em> have an ACL that applies to just that Resource. However, if no such ACL exists, the
Pod server will <a href="/lit-pod/docs/glossary#fallback-acl">fall back</a> to the ACL of its
<a href="/lit-pod/docs/glossary#container">Container</a> â€” or its Container&#x27;s Container&#x27;s, or its Container&#x27;s
Container&#x27;s Container&#x27;s, etc.</p><p>Thus, an ACL can control both access to a specific Resource or Container directly, and provide
<em>default</em> access rules: those that apply to the <em>children</em> of the applicable Container when it
serves as their fallback ACL. Note that the Container&#x27;s <em>Resource</em> access rules will <em>not</em> apply to
its children.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="modifying-the-acl"></a>Modifying the ACL<a aria-hidden="true" tabindex="-1" class="hash-link" href="#modifying-the-acl" title="Direct link to heading">#</a></h3><p>To modify access to a Resource, you will need to obtain its ACL. Assuming you have fetched the
Resource using
<a href="/lit-pod/docs/api/modules/_resource_litdataset_#unstable_fetchlitdatasetwithacl"><code>unstable_fetchLitDatasetWithAcl</code></a>,
you can call
<a href="/lit-pod/docs/api/modules/_acl_acl_#unstable_getresourceacl"><code>unstable_getResourceACL</code></a> to obtain its ACL â€” or
<code>null</code> if it does not exist.</p><p>If it exists, that&#x27;s great, and you can move on to the next section. You can create a new ACL if it
does not exist yet, but be aware that doing so will result in overriding any access currently granted
to the Resource via the default access rules of its fallback ACL, as described in the previous
section.</p><p>A new empty ACL can be initialised using
<a href="/lit-pod/docs/api/modules/_acl_acl_#unstable_createacl"><code>unstable_createAcl</code></a>, given that the current user has
the rights to do so (i.e. <a href="/lit-pod/docs/glossary#control-access">Control</a> access on the target Resource).
However, keep in mind that this ACL will override any ACL that currently applies to it. The
consequence is that if you do not give someone Control access before saving it to the Pod, nobody
will ever be able to modify the ACL ever again, which might result in losing access to some data in
the Pod.</p><p>If the fallback ACL is available to the current user, it is possible to copy the currently
applicable rules to a newly-initialised ACL; but be aware that future updates to the fallback ACL
will not be reflected in the new ACL.</p><p>The general process of changing access to a Resource is as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_fetchLitDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_hasResourceAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_hasFallbackAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_hasAccessibleAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_createAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_createAclFromFallbackAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_getResourceAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_setAgentResourceAccess</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_saveAclFor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@solid/lit-pod&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// Fetch the LitDataset and its associated ACLs, if available:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> litDatasetWithAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_fetchLitDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// Obtain the LitDataset&#x27;s own ACL, if available,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// or initialise a new one, if possible:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> resourceAcl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">unstable_hasResourceAcl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">litDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">unstable_hasAccessibleAcl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">litDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;The current user does not have permission to change access rights to this Resource.&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">unstable_hasFallbackAcl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">litDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;The current user does not have permission to see who currently has access to this Resource.&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#008500;font-style:italic">// Alternatively, initialise a new empty ACL as follows,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#008500;font-style:italic">// but be aware that if you do not give someone Control access,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#008500;font-style:italic">// **nobody will ever be able to change Access permissions in the future**:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#008500;font-style:italic">// resourceAcl = unstable_createAcl(litDatasetWithAcl);</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  resourceAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_createAclFromFallbackAcl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">litDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  resourceAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_getResourceAcl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">litDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// Give someone Control access to the given Resource:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> updatedAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_setAgentResourceAccess</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  resourceAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;https://some.pod/profile#webId&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> read</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> append</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> write</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// Now save the ACL:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_saveAclFor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">litDatasetWithAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> updatedAcl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="setting-public-access"></a>Setting public access<a aria-hidden="true" tabindex="-1" class="hash-link" href="#setting-public-access" title="Direct link to heading">#</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>lit-pod currently does not support setting public access.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="setting-agent-access"></a>Setting agent access<a aria-hidden="true" tabindex="-1" class="hash-link" href="#setting-agent-access" title="Direct link to heading">#</a></h3><p>Given a Resource&#x27;s ACL obtained as <a href="#modifying-the-acl">described previously</a>, you can grant Access
Modes to an Agent for the Resource itself, and/or to its children if the Resource is a Container.</p><p>To do the former, use
<a href="/lit-pod/docs/api/modules/_acl_agent_#unstable_setagentresourceaccess"><code>unstable_setAgentResourceAccess</code></a>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_setAgentResourceAccess</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@solid/lit-pod&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> resourceAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token comment" style="color:#008500;font-style:italic">/* Obtained previously as described above: */</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> webId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://example.com/profile#webid&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> updatedAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_setAgentResourceAccess</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  resourceAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  webId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> read</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> append</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> write</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// `updatedAcl` can now be saved back to the Pod</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// using `unstable_saveAclFor()`.</span></div></div></div></div></div><p>To grant Access Modes to the Agent for the Resource&#x27;s children, use
<a href="/lit-pod/docs/api/modules/_acl_agent_#unstable_setagentdefaultaccess"><code>unstable_setAgentDefaultAccess</code></a>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  unstable_setAgentDefaultAccess</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@solid/lit-pod&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> resourceAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token comment" style="color:#008500;font-style:italic">/* Obtained previously as described above: */</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> webId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://example.com/profile#webid&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> updatedAcl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">unstable_setAgentDefaultAccess</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  resourceAcl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  webId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> read</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> append</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> write</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// `updatedAcl` can now be saved back to the Pod</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#008500;font-style:italic">// using `unstable_saveAclFor()`.</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/inrupt/lit-pod/edit/master/website/docs/tutorials/managing-access.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/lit-pod/docs/tutorials/working-with-files"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Working with Files</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/lit-pod/docs/glossary"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Glossary Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#access-control-in-solid" class="table-of-contents__link">Access Control in Solid</a></li><li><a href="#finding-out-who-has-access" class="table-of-contents__link">Finding out who has access</a><ul><li><a href="#fetching-access-information" class="table-of-contents__link">Fetching access information</a></li><li><a href="#reading-public-access" class="table-of-contents__link">Reading public access</a></li><li><a href="#reading-agent-access" class="table-of-contents__link">Reading agent access</a></li></ul></li><li><a href="#changing-who-has-access" class="table-of-contents__link">Changing who has access</a><ul><li><a href="#two-types-of-acl" class="table-of-contents__link">Two types of ACL</a></li><li><a href="#modifying-the-acl" class="table-of-contents__link">Modifying the ACL</a></li><li><a href="#setting-public-access" class="table-of-contents__link">Setting public access</a></li><li><a href="#setting-agent-access" class="table-of-contents__link">Setting agent access</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/lit-pod/docs/">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/lit-pod/docs/guide/installation">Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/lit-pod/docs/api/index">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Solid</h4><ul class="footer__items"><li class="footer__item"><a href="https://solidproject.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project website</a></li><li class="footer__item"><a href="https://inrupt.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Inrupt</a></li><li class="footer__item"><a href="https://forum.solidproject.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li><li class="footer__item"><a href="https://twitter.com/project_solid" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/inrupt/lit-pod" target="_blank" rel="noopener noreferrer" class="footer__link-item">Source code</a></li><li class="footer__item"><a href="https://github.com/inrupt/lit-pod/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a bug</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Inrupt, Inc.</div></div></div></footer></div>
<script src="/lit-pod/styles.df06b2fd.js"></script>
<script src="/lit-pod/runtime~main.d215a3d9.js"></script>
<script src="/lit-pod/main.cdae43e5.js"></script>
<script src="/lit-pod/1.9a5cb07c.js"></script>
<script src="/lit-pod/2.54eb1ff3.js"></script>
<script src="/lit-pod/32.bb4b86f5.js"></script>
<script src="/lit-pod/33.6f3fe0c1.js"></script>
<script src="/lit-pod/383ba7fc.6425f15e.js"></script>
<script src="/lit-pod/17896441.625a4869.js"></script>
<script src="/lit-pod/8e078ad6.88afef29.js"></script>
</body>
</html>